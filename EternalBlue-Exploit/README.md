
# üöÄ EternalBlue - Exploit 



## üìö Descripci√≥n
En este ejercicio pr√°ctico, explotaremos la vulnerabilidad **EternalBlue (MS17-010)**, una falla cr√≠tica en el protocolo **SMBv1** que permite la **ejecuci√≥n remota de c√≥digo** en sistemas Windows no parcheados.  

- **M√°quina objetivo:** Metasploitable3
- **Objetivo:** Comprender la explotaci√≥n de vulnerabilidades SMB y demostrar una explotaci√≥n controlada en un entorno de pruebas.  


## ‚õî Advertencia
Este repositorio y su contenido han sido creados **exclusivamente con fines educativos, acad√©micos y de investigaci√≥n en ciberseguridad.**

‚ùå **Prohibido el uso malintencionado:** El uso de este c√≥digo para atacar sistemas sin la autorizaci√≥n expl√≠cita de sus propietarios **est√° estrictamente prohibido** y puede violar leyes locales, nacionales e internacionales.

‚úÖ **Entornos controlados:** Se recomienda ejecutar este exploit **√∫nicamente en entornos de pruebas controlados y sistemas que poseas o cuentes con permiso expl√≠cito para auditar.**

‚öñÔ∏è **Responsabilidad:** El autor de este repositorio **no se hace responsable** de cualquier da√±o, p√©rdida o acci√≥n legal derivada del uso inapropiado de este c√≥digo.

**Al utilizar este repositorio, aceptas y comprendes estas condiciones.** Si no est√°s de acuerdo, por favor, no clones ni utilices este c√≥digo.

**La ciberseguridad es una responsabilidad compartida. √ösalo con √©tica y respeto. üöÄ**

## üî® Requisitos
Antes de comenzar, aseg√∫rate de tener lo siguiente:
- **Sistema operativo:** Kali Linux u otra distribuci√≥n enfocada en seguridad.
- **M√°quina virtual vulnerable:** Metasploitable3


## üéØ Uso
El primer paso es descubrir la direcci√≥n IP de la m√°uina vulnerable en tu red. Para ello, utilitzaremos **netdiscover**

````terminal
sudo netdiscover -i eth0 <RANGO_DE_RED>
````
<p align="center">
  <img src="https://raw.githubusercontent.com/ElChe1/Explotation-Lab/refs/heads/main/EternalBlue-Exploit/media/img/netdiscover_1.png" alt="Netdiscover Red" style="border-radius: 10px;">
</p>

<br>


Una vez identificada la IP de la m√°quina v√≠ctima, el siguiente paso es escanear los puertos abiertos.
Para ello, utilizaremos **nmap**:

````terminal
sudo nmap -sT <IP_VICTIMA>
````

<p align="center">
  <img src="https://github.com/ElChe1/Explotation-Lab/blob/main/EternalBlue-Exploit/media/img/nmap_1.png" alt="Nmap 1" style="border-radius: 10px;">
</p>

<br>

En este paso, afinaremos la b√∫squeda de vulnerabilidades presentes en la m√°quina v√≠ctima para determinar si es explotable mediante **EternalBlue (MS17-010)**.

````terminal
sudo nmap -sV --script vuln <IP_VICTIMA>
````

### Resultado esperado 
Nmap mostrar√° una lista de servicios con sus respectivas versiones y posibles vulnerabilidades.
Si la m√°quina es vulnerable a EternalBlue, aparecer√° algo similar a: **MS17-010** o **CVE-2017-01043**

<p align="center">
  <img src="https://github.com/ElChe1/Explotation-Lab/blob/main/EternalBlue-Exploit/media/img/nmap_2.png" alt="nmap 2" style="border-radius: 10px;">
</p>

<br>

Una vez que hemos identificado que la m√°quina v√≠ctima es vulnerable a **EternalBlue (MS17-010)**, el siguiente paso es utilizar **Metasploit** para explotar la vulnerabilidad.

````terminal
sudo msfconsole
````
<p align="center">
  <img src="https://github.com/ElChe1/Explotation-Lab/blob/main/EternalBlue-Exploit/media/img/msfconsole.png" alt="msfconsole" style="border-radius: 10px;">
</p>

<br>

Para explotar la vulnerabilidad **MS17-010 (EternalBlue)** en la m√°quina v√≠ctima, necesitamos buscar el exploit adecuado dentro de **Metasploit**.

````terminal
search ms17-010
````

<p align="center">
  <img src="https://github.com/ElChe1/Explotation-Lab/blob/main/EternalBlue-Exploit/media/img/searchMSF.png" alt="searchMSF" style="border-radius: 10px;">
</p>

<br>

Una vez que hemos encontrado el exploit para la vulnerabilidad **MS17-010 (EternalBlue)** en Metasploit, es √∫til obtener m√°s informaci√≥n sobre c√≥mo utilizarlo adecuadamente.

````terminal
info exploit/windows/smb/ms17_010_eternalblue
````
### üìÉ Nota importante
Aseg√∫rate de revisar todas las opciones disponibles y configurarlas correctamente antes de ejecutar el exploit.

<p align="center">
  <img src="https://github.com/ElChe1/Explotation-Lab/blob/main/EternalBlue-Exploit/media/img/infoMSF.png" alt="infoMSF" style="border-radius: 10px;">
</p>

<br>

Ahora que ya conocemos el exploit adecuado para la vulnerabilidad **MS17-010 (EternalBlue)**, el siguiente paso es cargar el exploit en la consola de Metasploit para configurarlo y ejecutarlo.

````terminal
use exploit/windows/smb/ms17_010_eternalblue
````

<p align="center">
  <img src="https://github.com/ElChe1/Explotation-Lab/blob/main/EternalBlue-Exploit/media/img/useEB.png" alt="useEB" style="border-radius: 10px;">
</p>

<br>

Una vez cargado el exploit de **MS17-010 (EternalBlue)** en Metasploit, el siguiente paso es revisar y configurar correctamente todas las opciones necesarias antes de ejecutar el exploit.

````terminal
show options
````

<p align="center">
  <img src="https://github.com/ElChe1/Explotation-Lab/blob/main/EternalBlue-Exploit/media/img/showoptions.png" alt="showoptions" style="border-radius: 10px;">
</p>

<br>

Una vez que has mostrado las opciones del exploit y has visto los par√°metros disponibles, el siguiente paso es **configurar la IP de la m√°quina v√≠ctima (remote host)** para que Metasploit sepa a qu√© m√°quina debe intentar explotar.

````terminal
set RHOSTS <IP_VICTIMA>
````
<p align="center">
  <img src="https://github.com/ElChe1/Explotation-Lab/blob/main/EternalBlue-Exploit/media/img/rhosts.png" alt="rhosts" style="border-radius: 10px;">
</p>

<br>

### üìÉ Nota Importante:
Aseg√∫rate de que la IP de la v√≠ctima es la correcta y que la m√°quina est√° accesible desde tu red.

Ahora que hemos configurado todos los par√°metros necesarios, estamos listos para ejecutar el exploit y verificar si demos obtener acceso al sistema v√≠ctima mediante **Meterpreter**.

````terminal
run
````
<p align="center">
  <img src="https://github.com/ElChe1/Explotation-Lab/blob/main/EternalBlue-Exploit/media/img/run.png" alt="run" style="border-radius: 10px;">
</p>

<br>

## üìï Conclusi√≥n
Este proyecto ha demostrado c√≥mo explotar la vulnerabilidad **MS17-010 (EternalBlue)** en un entorno controlado y autorizado, utilizando herramientas como **Nmap** y **Metasploit** para realizar pruebas de penetraci√≥n en m√°quinas vulnerables. A trav√©s de este ejercicio, se ha aprendido a identificar, configurar y ejecutar un exploit de **EternalBlue**, obteniendo acceso a la m√°quina v√≠ctima mediante el payload **Meterpreter**.

Es importante recordar que este tipo de actividades deben realizarse siempre en entornos seguros y con permiso expl√≠cito, siguiendo las mejores pr√°cticas de ciberseguridad. La explotaci√≥n de vulnerabilidades como **EternalBlue** puede tener graves consecuencias si se realiza de forma malintencionada o ilegal, por lo que siempre debe llevarse a cabo con fines educativos y de investigaci√≥n.

Este repositorio tiene como objetivo servir como referencia para futuros estudios y experimentos relacionados con la seguridad inform√°tica.

